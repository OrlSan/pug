<!DOCTYPE html><html><head><meta charset="utf-8"><title>Jade - Template Engine</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/style/bundle.css"></head><body></body><body><div id="wrap"><div id="content"><div class="logo-container"><a href="/"><img src="/style/jade-logo-header.svg" alt="Jade - Node Template Engine"></a></div><div class="navbar navbar-default navbar-static-top"><div class="container"><div class="navbar-header visible-sm visible-xs"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">JADE</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="false"><a href="/reference">Language Reference</a></li><li class="active"><a href="/api">API</a></li><li class="false"><a href="/command-line">Command Line</a></li></ul><ul class="nav navbar-nav navbar-right"><li class="false"><a href="/history">Change Log</a></li><li><a href="https://coveralls.io/r/jadejs/jade?branch=master">Code Coverage</a></li><li><a href="https://travis-ci.org/pugjs/pug">Test Results</a></li><li><a href="https://github.com/jadejs/jade">GitHub Repository</a></li></ul></div></div></div><div class="container"><h1>API Documentation</h1><p>This page details how to render jade using the JavaScript API in node.js</p><h2>Installation</h2><p>via npm:</p><pre><code>npm install jade</code></pre><h2>Usage</h2><h3>options</h3><p>All API methods take the following set of options:</p><div class="code"><div>{</div><dl class="parameter-list"><dt>filename:</dt><dd class="type string">string</dd><dd class="description">Used in exceptions, and required for relative includes and extends</dd><dt>doctype:</dt><dd class="type string">string</dd><dd class="description">If the doctype is not specified as part of the template, you can specify it here.  It is sometimes useful to get self-closing tags and remove mirroring of boolean attributes.</dd><dt>pretty:</dt><dd class="type">boolean | string</dd><dd class="description">Adds whitespace to the resulting html to make it easier for a human to read using <code>'&nbsp;&nbsp;'</code> as indentation. If a string is specified, that will be used as indentation instead (e.g. <code>'\t'</code>).</dd><dt>self:</dt><dd class="type boolean">boolean</dd><dd class="description">Use a <code>self</code> namespace to hold the locals (false by default)</dd><dt>debug:</dt><dd class="type boolean">boolean</dd><dd class="description">If set to true, the tokens and function body is logged to stdout</dd><dt>compileDebug:</dt><dd class="type boolean">boolean</dd><dd class="description">If set to true, the function source will be included in the compiled template for better error messages (sometimes useful in development). It is enabled by default unless used with express in production mode.</dd><dt>cache:</dt><dd class="type boolean">boolean</dd><dd class="description">If set to true, compiled functions are cached. <code>filename</code> must be set as the cache key.</dd><dt>compiler:</dt><dd class="type function">class</dd><dd class="description">Override the default compiler</dd><dt>parser:</dt><dd class="type function">class</dd><dd class="description">Override the default parser</dd><dt>globals:</dt><dd class="type array">Array.&lt;string&gt;</dd><dd class="description">Add a list of global names to make accessible in templates</dd></dl><div>}</div></div><h3>jade.compile(source, options)</h3><p>Compile some jade source to a function which can be rendered multiple times with different locals.</p><dl class="parameter-list"><dt>source</dt><dd class="type string">string</dd><dd class="description">The source jade to compile</dd><dt>options</dt><dd class="type object">options</dd><dd class="description">An options object (see above)</dd></dl><dl class="returns"><dt>returns</dt><dd class="type function">function</dd><dd class="description">A function to generate the html from an object containing locals</dd></dl><pre data-control="input-js" class="cm-s-default"><code><span class="cm-keyword">var</span> <span class="cm-variable">jade</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">&#39;jade&#39;</span>);

<span class="cm-comment">// Compile a function</span>
<span class="cm-keyword">var</span> <span class="cm-variable">fn</span> <span class="cm-operator">=</span> <span class="cm-variable">jade</span>.<span class="cm-property">compile</span>(<span class="cm-string">&#39;string of jade&#39;</span>, <span class="cm-variable">options</span>);

<span class="cm-comment">// Render the function</span>
<span class="cm-keyword">var</span> <span class="cm-variable">html</span> <span class="cm-operator">=</span> <span class="cm-variable">fn</span>(<span class="cm-variable">locals</span>);
<span class="cm-comment">// =&gt; &#39;&lt;string&gt;of jade&lt;/string&gt;&#39;</span>
</code></pre><h3>jade.compileFile(path, options)</h3><p>Compile some jade source from a file to a function which can be rendered multiple times with different locals.</p><dl class="parameter-list"><dt>source</dt><dd class="type string">path</dd><dd class="description">The path to a jade file</dd><dt>options</dt><dd class="type object">options</dd><dd class="description">An options object (see above)</dd></dl><dl class="returns"><dt>returns</dt><dd class="type function">function</dd><dd class="description">A function to generate the html from an object containing locals</dd></dl><pre data-control="input-js" class="cm-s-default"><code><span class="cm-keyword">var</span> <span class="cm-variable">jade</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">&#39;jade&#39;</span>);

<span class="cm-comment">// Compile a function</span>
<span class="cm-keyword">var</span> <span class="cm-variable">fn</span> <span class="cm-operator">=</span> <span class="cm-variable">jade</span>.<span class="cm-property">compileFile</span>(<span class="cm-string">&#39;path to jade file&#39;</span>, <span class="cm-variable">options</span>);

<span class="cm-comment">// Render the function</span>
<span class="cm-keyword">var</span> <span class="cm-variable">html</span> <span class="cm-operator">=</span> <span class="cm-variable">fn</span>(<span class="cm-variable">locals</span>);
<span class="cm-comment">// =&gt; &#39;&lt;string&gt;of jade&lt;/string&gt;&#39;</span>
</code></pre><h3>jade.compileClient(source, options)</h3><p>Compile some jade source to a string of JavaScript that can be used client side along with the jade runtime.</p><dl class="parameter-list"><dt>source</dt><dd class="type string">string</dd><dd class="description">The source jade to compile</dd><dt>options</dt><dd class="type object">options</dd><dd class="description">An options object (see above)</dd></dl><dl class="returns"><dt>returns</dt><dd class="type string">string</dd><dd class="description">A string of JavaScript representing a function</dd></dl><pre data-control="input-js" class="cm-s-default"><code><span class="cm-keyword">var</span> <span class="cm-variable">jade</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">&#39;jade&#39;</span>);

<span class="cm-comment">// Compile a function</span>
<span class="cm-keyword">var</span> <span class="cm-variable">fn</span> <span class="cm-operator">=</span> <span class="cm-variable">jade</span>.<span class="cm-property">compileClient</span>(<span class="cm-string">&#39;string of jade&#39;</span>, <span class="cm-variable">options</span>);

<span class="cm-comment">// Render the function</span>
<span class="cm-keyword">var</span> <span class="cm-variable">html</span> <span class="cm-operator">=</span> <span class="cm-variable">fn</span>(<span class="cm-variable">locals</span>);
<span class="cm-comment">// =&gt; &#39;function template(locals) { return &quot;&lt;string&gt;of jade&lt;/string&gt;&quot;; }&#39;</span>
</code></pre><h3>jade.compileClientWithDependenciesTracked(source, options)</h3><p>See <code>jade.compileClient</code> except that this method returns an object of the form:</p><pre data-control="input-js" class="cm-s-default"><code>{
  <span class="cm-string">&#39;body&#39;</span>: <span class="cm-string">&#39;function (locals) {...}&#39;</span>,
  <span class="cm-string">&#39;dependencies&#39;</span>: [<span class="cm-string">&#39;filename.jade&#39;</span>]
}
</code></pre><p>You should only use this method if you need to implement something
like watching for changes to the jade files.
</p><h3>jade.compileFileClient(path, options)</h3><p>Compile a jade template file to a string of Javascript that can be used client side along with the jade runtime.</p><dl class="parameter-list"><dt>path</dt><dd class="type string">string</dd><dd class="description">The path to a jade file</dd><dt>options</dt><dd class="type object">options</dd><dd class="description">An options object (see above)</dd><dt>options.name</dt><dd class="type string">string</dd><dd class="description">If you pass a <code>.name</code> property on the options object, it will be
used as the function name for your client side template function.</dd></dl><dl class="returns"><dt>returns</dt><dd class="type string">string</dd><dd class="description">A Javascript function body.</dd></dl><p>First, our template file.</p><pre data-control="input-jade" class="cm-s-default"><code><span class="cm-tag">h1</span><span class="cm-string"> This is a Jade template</span>
<span class="cm-tag">h2</span><span class="cm-string"> By #{author}</span>
</code></pre><p>Then, we compile the jade file into a function string.</p><pre data-control="input-js" class="cm-s-default"><code><span class="cm-keyword">var</span> <span class="cm-variable">fs</span>   <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">&#39;fs&#39;</span>);
<span class="cm-keyword">var</span> <span class="cm-variable">jade</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">&#39;jade&#39;</span>);

<span class="cm-comment">// Compile the template to a function string</span>
<span class="cm-keyword">var</span> <span class="cm-variable">jsFunctionString</span> <span class="cm-operator">=</span> <span class="cm-variable">jade</span>.<span class="cm-property">compileFileClient</span>(<span class="cm-string">&#39;/path/to/jadeFile.jade&#39;</span>, {<span class="cm-property">name</span>: <span class="cm-string">&quot;fancyTemplateFun&quot;</span>});

<span class="cm-comment">// Maybe you want to compile all of your templates to a templates.js file and serve it to the client</span>
<span class="cm-variable">fs</span>.<span class="cm-property">writeFileSync</span>(<span class="cm-string">&quot;templates.js&quot;</span>, <span class="cm-variable">jsFunctionString</span>);
</code></pre><p>Here's what the output function string looks like (written to <code>templates.js</code>).</p><pre data-control="input-js" class="cm-s-default"><code><span class="cm-keyword">function</span> <span class="cm-variable">fancyTemplateFun</span>(<span class="cm-def">locals</span>) {
  <span class="cm-keyword">var</span> <span class="cm-def">buf</span> <span class="cm-operator">=</span> [];
  <span class="cm-keyword">var</span> <span class="cm-def">jade_mixins</span> <span class="cm-operator">=</span> {};
  <span class="cm-keyword">var</span> <span class="cm-def">jade_interp</span>;

  <span class="cm-keyword">var</span> <span class="cm-def">locals_for_with</span> <span class="cm-operator">=</span> (<span class="cm-variable-2">locals</span> <span class="cm-operator">||</span> {});

  (<span class="cm-keyword">function</span> (<span class="cm-def">author</span>) {
    <span class="cm-variable-2">buf</span>.<span class="cm-property">push</span>(<span class="cm-string">&quot;&lt;h1&gt;This is a Jade template&lt;/h1&gt;&lt;h2&gt;By &quot;</span>
      <span class="cm-operator">+</span> (<span class="cm-variable">jade</span>.<span class="cm-property">escape</span>((<span class="cm-variable-2">jade_interp</span> <span class="cm-operator">=</span> <span class="cm-variable-2">author</span>) <span class="cm-operator">==</span> <span class="cm-atom">null</span> <span class="cm-operator">?</span> <span class="cm-string">&#39;&#39;</span> : <span class="cm-variable-2">jade_interp</span>))
      <span class="cm-operator">+</span> <span class="cm-string">&quot;&lt;/h2&gt;&quot;</span>);
  }.<span class="cm-property">call</span>(<span class="cm-keyword">this</span>, <span class="cm-string">&quot;author&quot;</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">locals_for_with</span> <span class="cm-operator">?</span>
    <span class="cm-variable-2">locals_for_with</span>.<span class="cm-property">author</span> : <span class="cm-keyword">typeof</span> <span class="cm-variable">author</span> <span class="cm-operator">!==</span> <span class="cm-string">&quot;undefined&quot;</span> <span class="cm-operator">?</span>
      <span class="cm-variable">author</span> : <span class="cm-atom">undefined</span>)
  );

  <span class="cm-keyword">return</span> <span class="cm-variable-2">buf</span>.<span class="cm-property">join</span>(<span class="cm-string">&quot;&quot;</span>);
}

</code></pre><p>Be sure to send the Jade runtime (<code>node_modules/jade/runtime.js</code>) to
the client in addition to the template that you just compiled.
</p><pre data-control="output-html" class="cm-s-default"><code><span class="cm-meta">&lt;!DOCTYPE html&gt;</span>
<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span>
  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">&quot;/runtime.js&quot;</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">&quot;/templates.js&quot;</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span>
  <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span>

  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">h1</span><span class="cm-tag cm-bracket">&gt;</span>This is one fancy template.<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">h1</span><span class="cm-tag cm-bracket">&gt;</span>

    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">type</span>=<span class="cm-string">&quot;text/javascript&quot;</span><span class="cm-tag cm-bracket">&gt;</span>
      <span class="cm-keyword">var</span> <span class="cm-variable">html</span> <span class="cm-operator">=</span> <span class="cm-variable">window</span>.<span class="cm-property">fancyTemplateFun</span>({<span class="cm-property">author</span>: <span class="cm-string">&quot;enlore&quot;</span>});
      <span class="cm-keyword">var</span> <span class="cm-variable">div</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElement</span>(<span class="cm-string">&quot;div&quot;</span>);
      <span class="cm-variable">div</span>.<span class="cm-property">innerHTML</span> <span class="cm-operator">=</span> <span class="cm-variable">html</span>;
      <span class="cm-variable">document</span>.<span class="cm-property">body</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">div</span>);
    <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span>
  <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span>
<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span>
</code></pre><h3>jade.render(source, options)</h3><dl class="parameter-list"><dt>source</dt><dd class="type string">string</dd><dd class="description">The source jade to render</dd><dt>options</dt><dd class="type object">options</dd><dd class="description">An options object (see above), also used as the locals object</dd></dl><dl class="returns"><dt>returns</dt><dd class="type string">string</dd><dd class="description">The resulting html string</dd></dl><pre data-control="input-js" class="cm-s-default"><code><span class="cm-keyword">var</span> <span class="cm-variable">jade</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">&#39;jade&#39;</span>);

<span class="cm-keyword">var</span> <span class="cm-variable">html</span> <span class="cm-operator">=</span> <span class="cm-variable">jade</span>.<span class="cm-property">render</span>(<span class="cm-string">&#39;string of jade&#39;</span>, <span class="cm-variable">options</span>);
<span class="cm-comment">// =&gt; &#39;&lt;string&gt;of jade&lt;/string&gt;&#39;</span>
</code></pre><h3>jade.renderFile(filename, options)</h3><dl class="parameter-list"><dt>filename</dt><dd class="type string">string</dd><dd class="description">The path to the jade file to render</dd><dt>options</dt><dd class="type object">options</dd><dd class="description">An options object (see above), also used as the locals object</dd></dl><dl class="returns"><dt>returns</dt><dd class="type string">string</dd><dd class="description">The resulting html string</dd></dl><pre data-control="input-js" class="cm-s-default"><code><span class="cm-keyword">var</span> <span class="cm-variable">jade</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">&#39;jade&#39;</span>);

<span class="cm-keyword">var</span> <span class="cm-variable">html</span> <span class="cm-operator">=</span> <span class="cm-variable">jade</span>.<span class="cm-property">renderFile</span>(<span class="cm-string">&#39;path/to/file.jade&#39;</span>, <span class="cm-variable">options</span>);
<span class="cm-comment">// ...</span></code></pre></div></div><div id="push"></div></div><div id="footer-wrapper"><footer><div class="container"><p>Jade is a template language maintained by&nbsp;<a href="http://www.forbeslindesay.co.uk">@ForbesLindesay</a>&nbsp;and contributed by&nbsp;<a href="https://github.com/jadejs/jade/graphs/contributors">many others</a>.</p></div></footer></div><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25261536-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script><script src="/client.js"></script><script src="http://code.jquery.com/jquery-2.1.3.min.js"></script><script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script></body></html>
